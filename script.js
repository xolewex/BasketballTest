const easy = [
  {q:"Кто изобрёл баскетбол?",a:["Джеймс Нейсмит","Майкл Джордан","Ларри Бёрд","Коби Брайант"],correct:0},
{q:"В каком году появился баскетбол?",a:["1891","1900","1920","1885"],correct:0},
{q:"Сколько игроков в команде на площадке?",a:["5","6","7","4"],correct:0},
{q:"Как называется кольцо, в которое забрасывают мяч?",a:["Корзина","Баскетбол","Сетка","Стойка"],correct:0},
{q:"Как называется круглая зона под кольцом?",a:["Краска","Линейка","Треугольник","Поле"],correct:0},
{q:"Что такое «дриблинг»?",a:["Ведение мяча","Бросок сверху","Защитный блок","Передача"],correct:0},
{q:"Сколько очков даётся за штрафной бросок?",a:["1","2","3","0"],correct:0},
{q:"Как называется бросок сверху через кольцо?",a:["Данк","Лэй-ап","Фэйдэвэй","Трипл"],correct:0},
{q:"Что такое «пас» в баскетболе?",a:["Передача мяча товарищу по команде","Бросок сверху","Дриблинг","Фол"],correct:0},
{q:"Как называется момент, когда мяч выходит за боковую линию?",a:["Аут","Данк","Штрафной","Подбор"],correct:0},
{q:"Сколько длится одна четверть в НБА?",a:["12 минут","10 минут","8 минут","15 минут"],correct:0},
{q:"Что значит «трёхочковый бросок»?",a:["Бросок за линией трёх очков","Бросок сверху","Бросок с линии штрафного","Бросок в стойку"],correct:0},
{q:"Что такое «фол»?",a:["Нарушение правил","Бросок сверху","Передача","Дриблинг"],correct:0},
{q:"Как называется игра, когда игрок бросает мяч в корзину?",a:["Бросок","Дриблинг","Фол","Передача"],correct:0},
{q:"Что такое «подбор мяча»?",a:["Сбор мяча после промаха","Передача","Бросок","Дриблинг"],correct:0},
{q:"Сколько очков даёт заброшенный мяч с линии трёх очков?",a:["3","2","1","0"],correct:0},
{q:"Как называется момент, когда мяч перехватывают у противника?",a:["Перехват","Данк","Фол","Бросок"],correct:0},
{q:"Что делает судья на поле?",a:["Следит за правилами","Ведет счет","Бросает мяч","Подбирает мяч"],correct:0},
{q:"Как называется замена игрока?",a:["Субституция","Фол","Данк","Бросок"],correct:0},
{q:"Что такое «быстрый проход» (fast break)?",a:["Быстрая атака после перехвата","Дриблинг","Штрафной","Подбор"],correct:0},
{q:"Как называется позиция игрока, который защищает центр площадки?",a:["Центровой","Защитник","Форвард","Разыгрывающий"],correct:0},
{q:"Сколько секунд даётся на атаку команды?",a:["24 секунды","30 секунд","20 секунд","12 секунд"],correct:0},
{q:"Как называется бросок с поворотом тела?",a:["Фэйдэвэй","Данк","Лэй-ап","Трипл"],correct:0},
{q:"Что такое «технический фол»?",a:["Нарушение правил поведения","Данк","Бросок","Фол в атаке"],correct:0},
{q:"Что значит «man-to-man» защита?",a:["Каждый игрок опекает своего соперника","Зональная защита","Фол","Данк"],correct:0},
{q:"Как называется бросок с места штрафного?",a:["Штрафной","Данк","Фэйдэвэй","Лэй-ап"],correct:0},
{q:"Что такое «фэйдэвэй» (fadeaway)?",a:["Бросок с отскоком назад от защитника","Данк","Лэй-ап","Перехват"],correct:0},
{q:"Какой цвет мяча чаще всего используют в официальных матчах?",a:["Оранжевый","Красный","Синий","Зелёный"],correct:0},
{q:"Что такое «анд-ван» (and-one)?",a:["Бросок с фолом и штрафной","Бросок сверху","Данк","Подбор"],correct:0},
{q:"Что делает игрок при «двойном ведении» (double dribble)?",a:["Нарушение, ведение после остановки","Данк","Бросок","Фол"],correct:0},
{q:"Как называется таблица с временем и очками?",a:["Табло","Данк","Фол","Бросок"],correct:0},
{q:"Что такое «сайд-аут» (вынос мяча с боковой линии)?",a:["Вынос мяча после аута","Данк","Фол","Бросок"],correct:0},
{q:"Кто такой «капитан команды»?",a:["Лидер команды на поле","Данк","Фол","Бросок"],correct:0},
{q:"Что такое «тройной пас» (3-pass play)?",a:["Передача мяча через трёх игроков","Данк","Фол","Бросок"],correct:0},
{q:"Какой минимальный возраст игрока для участия в НБА?",a:["19 лет","18 лет","20 лет","21 год"],correct:0},
{q:"Что такое «зональная защита»?",a:["Опека зоны на площадке","Человек-человека","Данк","Фол"],correct:0},
{q:"Что означает термин «pick» (экран)?",a:["Элемент атаки для блокировки соперника","Данк","Бросок","Подбор"],correct:0},
{q:"Кто выигрывает матч, если закончилась основная игра и счёт равный?",a:["Овертайм","Фол","Бросок","Подбор"],correct:0},
{q:"Сколько длится овертайм в НБА?",a:["5 минут","10 минут","4 минуты","3 минуты"],correct:0},
{q:"Как называется позиция игрока, который чаще всего забивает с трёх очков?",a:["Атакующий защитник (SG)","Центровой","Форвард","Разыгрывающий"],correct:0}
];

const medium = [
  {q:"В какой стране впервые провели чемпионат мира по баскетболу?",a:["Аргентина","США","Испания","Россия"],correct:0},
{q:"В каком году баскетбол стал олимпийским видом спорта?",a:["1936","1920","1948","1904"],correct:0},
{q:"Сколько длится овертайм в международных матчах ФИБА?",a:["5 минут","3 минуты","10 минут","2 минуты"],correct:0},
{q:"Что такое «трёхсекундное нарушение»?",a:["Пребывание в краске более 3 секунд","Фол в атаке","Двойной дриблинг","Пропуск шага"],correct:0},
{q:"Сколько игроков в запасе может быть в официальном матче ФИБА?",a:["7","5","6","8"],correct:0},
{q:"Как называется нарушение, когда игрок блокирует движение противника без мяча?",a:["Личный фол","Технический фол","Штрафной","Аут"],correct:0},
{q:"Что такое «перехват мяча»?",a:["Отбор мяча у соперника","Дриблинг","Бросок","Фол"],correct:0},
{q:"Как называется защита, когда каждый игрок отвечает за своего соперника?",a:["Человек к человеку","Зональная","Фол","Перехват"],correct:0},
{q:"Что значит «зональная защита 2-3»?",a:["Два игрока впереди, три сзади","Индивидуальная","Фол","Бросок"],correct:0},
{q:"Какой игрок чаще всего подбирает мячи под кольцом?",a:["Центровой","Разыгрывающий","Лёгкий форвард","Защитник"],correct:0},
{q:"Что такое «фол в атаке»?",a:["Атакующий фол","Дриблинг","Пас","Бросок"],correct:0},
{q:"Сколько очков даётся за попадание из-за трёхочковой линии?",a:["3","2","1","0"],correct:0},
{q:"Как называется место для броска штрафного?",a:["Линия штрафного","Корзина","Зона","Табло"],correct:0},
{q:"Что такое «подбор в нападении»?",a:["Подбор мяча после броска команды","Дриблинг","Пас","Фол"],correct:0},
{q:"Чем отличается «блок-шот» от «перехвата»?",a:["Блок-шот это защита броска, перехват — мяч","Дриблинг","Пас","Фол"],correct:0},
{q:"Что такое «переход из защиты в нападение»?",a:["Быстрая атака после перехвата","Бросок","Пас","Фол"],correct:0},
{q:"Как называется ошибка, когда игрок наступает на линию при штрафном броске?",a:["Нарушение линии","Бросок","Пас","Фол"],correct:0},
{q:"Что такое «экран» в баскетболе?",a:["Блокировка соперника для партнёра","Бросок","Пас","Фол"],correct:0},
{q:"Какие существуют виды паса?",a:["Лобовой, грудной, через себя","Дриблинг","Бросок","Фол"],correct:0},
{q:"Что значит «assist»?",a:["Передача, которая приводит к очкам","Дриблинг","Бросок","Фол"],correct:0}
];


const hard = [
  {q:"Кто считается «королём трёхочковых бросков» в истории НБА?",a:["Стеф Карри","Рэй Аллен","Ларри Бёрд","Реджис Миллер"],correct:0},
{q:"В каком году НБА и ABA объединились?",a:["1976","1980","1970","1979"],correct:0},
{q:"Кто первый игрок набрал 100 очков в одном матче НБА?",a:["Уилт Чемберлен","Коби Брайант","Майкл Джордан","Карим Абдул-Джаббар"],correct:0},
{q:"Назовите трёх игроков с наибольшим количеством чемпионских колец НБА",a:["Билл Расселл, Сэм Джонс, Джон Хавличек","Коби, Шакил, Карим","Мэджик, Ларри, Майкл","Леброн, Дуэйн, Кевин"],correct:0},
{q:"Какой тренер выиграл наибольшее количество чемпионатов НБА?",a:["Фил Джексон","Грегг Попович","Пат Райли","Док Риверс"],correct:0},
{q:"Что такое «triangle offense» (треугольная атака)?",a:["Тактика Фила Джексона","Тактика Поповича","Тактика Пат Райли","Тактика Док Риверса"],correct:0},
{q:"Какой баскетбольный термин означает «выход из-под экрана с броском»?",a:["Pick and roll","Fadeaway","Dunk","Layup"],correct:0},
{q:"Кто является рекордсменом по количеству очков в карьере НБА?",a:["Карим Абдул-Джаббар","Коби Брайант","Леброн Джеймс","Майкл Джордан"],correct:0},
{q:"Что такое «pick and roll» и как использовать?",a:["Экранирование с выходом под корзину","Fadeaway","Dunk","Layup"],correct:0},
{q:"Назовите особенности правил ФИБА для подбора мяча после броска",a:["Считается и защита и нападение","Данк","Бросок","Пас"],correct:0},
{q:"Кто первый иностранный игрок стал MVP НБА?",a:["Хаким Оладжувон","Тони Паркэр","Яо Мин","Дирк Новицки"],correct:3},
{q:"В чём разница между «zone defense 3-2» и «2-3»?",a:["Расположение игроков на поле","Бросок","Дриблинг","Пас"],correct:0},
{q:"Что такое «iso play» (изолированная атака)?",a:["Индивидуальная атака с мячом","Пас по кругу","Быстрый проход","Фол"],correct:0},
{q:"Какие существуют виды блок-шотов и когда их используют?",a:["Вертикальный, горизонтальный, прыжковый","Пас","Бросок","Фол"],correct:0},
{q:"Что означает термин «transition defense»?",a:["Защита при переходе из нападения в защиту","Данк","Бросок","Пас"],correct:0},
{q:"Назовите пять позиций игроков в баскетболе и их основные функции",a:["PG, SG, SF, PF, C","Данк","Бросок","Фол"],correct:0},
{q:"Что такое «triple-threat position»?",a:["Позиция для дриблинга, паса или броска","Данк","Бросок","Фол"],correct:0},
{q:"Кто был самым ценным игроком на Олимпийских играх 1992 года?",a:["Чарльз Баркли","Майкл Джордан","Патрик Юинг","Мэджик Джонсон"],correct:0},
{q:"В чем особенность «Eurostep» и кто его популяризовал?",a:["Двойной шаг при обводке, Хаким Оладжувон","Данк","Бросок","Фол"],correct:0},
{q:"Что такое «help defense»?",a:["Подстраховка игрока в защите","Бросок","Дриблинг","Пас"],correct:0},
{q:"Как определяется «efficiency rating» игрока?",a:["Сумма очков, подборов, передач минус ошибки","Данк","Бросок","Фол"],correct:0},
{q:"Назовите игроков, вошедших в зал славы НБА до 2000 года",a:["Майкл Джордан, Ларри Бёрд, Мэджик Джонсон","Коби, Шакил, Карим","Леброн, Дуэйн, Кевин","Хаким, Патрик, Деррик"],correct:0},
{q:"Какие ошибки чаще всего совершают при прессинге на площадке?",a:["Двойной дриблинг, шаги, потеря позиции","Бросок","Пас","Фол"],correct:0},
{q:"Что такое «overplay» в защите?",a:["Слишком активная опека с риском пропустить","Бросок","Дриблинг","Пас"],correct:0},
{q:"Как работает «switching defense»?",a:["Меняют игроков при смене позиции соперника","Бросок","Дриблинг","Пас"],correct:0},
{q:"Что означает «charge» в баскетболе?",a:["Фол нападения на защитника","Бросок","Дриблинг","Пас"],correct:0},
{q:"Какие существуют стратегии использования «fast break»?",a:["Быстрый переход в атаку после подбора","Бросок","Дриблинг","Пас"],correct:0},
{q:"Назовите основные элементы «motion offense»",a:["Движение без мяча, экраны, передачи","Бросок","Дриблинг","Фол"],correct:0},
{q:"Кто из игроков известен как лучший дриблер в истории НБА?",a:["Элджин Бэйлор","Майкл Джордан","Коби Брайант","Крис Пол"],correct:0},
{q:"Что такое «step-back jump shot»?",a:["Бросок с шагом назад для создания пространства","Данк","Дриблинг","Пас"],correct:0},
{q:"Как изменились правила троек в НБА с 1979 года?",a:["Введена линия трёх очков","Бросок","Дриблинг","Фол"],correct:0},
{q:"В чём разница между «underrated» и «overrated» игроком в статистике?",a:["Слабее/сильнее оценён обществом","Бросок","Дриблинг","Пас"],correct:0},
{q:"Что такое «box-and-one» защита и когда её применяют?",a:["Один игрок опекает звезду, остальные в зоне","Бросок","Дриблинг","Пас"],correct:0},
{q:"Назовите игрока, который набрал наибольшее количество очков за один сезон НБА",a:["Уилт Чемберлен","Коби Брайант","Майкл Джордан","Карим Абдул-Джаббар"],correct:0},
{q:"Какой элемент игры называется «baseline cut»?",a:["Резкая прорезка вдоль линии поля для получения паса","Бросок","Дриблинг","Фол"],correct:0},
{q:"Что такое «catch-and-shoot»?",a:["Приём паса и мгновенный бросок","Данк","Дриблинг","Пас"],correct:0},
{q:"Какие виды «foul trouble» бывают у игроков?",a:["Личные фолы, технические фолы, дисквалификация","Бросок","Дриблинг","Пас"],correct:0},
{q:"Какой тренер известен своей системой «Run and Gun»?",a:["Джим Лэри","Фил Джексон","Попович","Пат Райли"],correct:0},
{q:"Назовите несколько примеров «highlight reel plays»",a:["Стеф Карри дальние броски, Данки Майкла Джордана","Бросок","Дриблинг","Фол"],correct:0},
{q:"Что означает «sixth man» в баскетбольной терминологии?",a:["Игрок, который активно выходит со скамейки","Бросок","Дриблинг","Пас"],correct:0}
];

const mix = easy.concat(easy ,medium, hard);


let currentLevel = null;
let currentQuestions = [];
let currentIndex = 0;
let score = 0;

const questionEl = document.querySelector('.question');
const answersEl = document.querySelector('.answers');
const nextBtn = document.querySelector('.next-btn');
const resultsEl = document.querySelector('.results');
const progressEl = document.querySelector('.progress');


document.querySelectorAll('.levels button').forEach(btn=>{
  btn.addEventListener('click',()=>{
    currentLevel = btn.dataset.level;
    let sourceQuestions;
    if(currentLevel==="easy") sourceQuestions=easy;
    else if(currentLevel==="medium") sourceQuestions=medium;
    else if(currentLevel==="hard") sourceQuestions=hard;
    else sourceQuestions=mix;
    currentQuestions=sourceQuestions.sort(()=>Math.random()-0.5).slice(0,20);
    currentIndex=0; 
    score=0; 
    resultsEl.textContent='';
    showQuestion();
  });
});


function showQuestion(){
  nextBtn.style.display='none';
  const qData = currentQuestions[currentIndex];
  questionEl.textContent = qData.q;
  progressEl.textContent = `Вопрос ${currentIndex+1} из ${currentQuestions.length}`;
  let answers = qData.a.map((text,index)=>({text,index})).sort(()=>Math.random()-0.5);
  answersEl.innerHTML='';
  answers.forEach(ans=>{
    const btn = document.createElement('button');
    btn.textContent = ans.text;
    btn.addEventListener('click',()=>selectAnswer(ans.index));
    answersEl.appendChild(btn);
  });
}


function selectAnswer(selected){
  const qData = currentQuestions[currentIndex];
  if(selected===qData.correct) score++;
  Array.from(answersEl.children).forEach(btn=>{
    const idx = qData.a.indexOf(btn.textContent);
    btn.style.background = idx===qData.correct?"#4caf50":"#f44336";
    btn.disabled=true;
  });
  nextBtn.style.display='block';
}


nextBtn.addEventListener('click',()=>{
  currentIndex++;
  if(currentIndex<currentQuestions.length) showQuestion();
  else showResults();
});

function showResults(){
  questionEl.textContent='Тест завершён!';
  answersEl.innerHTML='';
  nextBtn.style.display='none';
  resultsEl.textContent = `Ваш результат: ${score} из ${currentQuestions.length} (${Math.round(score/currentQuestions.length*100)}%)`;
}